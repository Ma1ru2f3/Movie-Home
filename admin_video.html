<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Admin</title>
<style>
body { font-family: Arial, sans-serif; background:#121212; color:#fff; margin:0; padding:0; }
main { max-width:600px; margin:2em auto; padding:1em; background:#1f1f1f; border-radius:8px; }
input, button { width:100%; padding:0.5em; margin:0.5em 0; border-radius:5px; border:none; }
button { background:#ff4500; color:#fff; cursor:pointer; }
button:hover { background:#e03e00; }
.video-card { background:#2a2a2a; padding:0.5em; margin:1em 0; border-radius:8px; }
iframe { width:100%; height:250px; border-radius:5px; }
</style>
</head>
<body>

<main>
<h2>ভিডিও অ্যাড করুন</h2>

<label>Title</label>
<input type="text" id="title" placeholder="উদাহরণ: Death Note Episode 01">

<label>YouTube Link</label>
<input type="text" id="link" placeholder="উদাহরণ: https://www.youtube.com/watch?v=VIDEO_ID">

<button onclick="addVideo()">Add Video</button>

<h2>ভিডিও লিস্ট</h2>
<div id="videoList"></div>
</main>

<script>
let videos = JSON.parse(localStorage.getItem('videos') || '[]');

// Convert YouTube Link to Embed
function convertYouTubeLink(url){
    let id = url.split('v=')[1];
    if(!id) return '';
    let ampersandPosition = id.indexOf('&');
    if(ampersandPosition != -1) id = id.substring(0, ampersandPosition);
    return 'https://www.youtube.com/embed/' + id;
}

function renderVideos(){
    const container = document.getElementById('videoList');
    container.innerHTML='';
    videos.forEach(v=>{
        const div=document.createElement('div');
        div.className='video-card';
        div.innerHTML=`<h3>${v.title}</h3><iframe src="${convertYouTubeLink(v.url)}" allowfullscreen></iframe>`;
        container.appendChild(div);
    });
}

function addVideo(){
    const title = document.getElementById('title').value.trim();
    const link = document.getElementById('link').value.trim();
    if(!title || !link){ alert('Title এবং Link দিতে হবে!'); return; }
    videos.push({title, url:link});
    localStorage.setItem('videos', JSON.stringify(videos));
    renderVideos();
    document.getElementById('title').value='';
    document.getElementById('link').value='';
}

// Initial Render
renderVideos();
</script>

</body>
</html>