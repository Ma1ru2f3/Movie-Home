<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Movie World</title>
<style>
  body {font-family: Arial; margin:0; padding:0; background:#f2f2f2;}
  nav {display:flex; justify-content:space-around; padding:10px; background:#2196F3; color:white; font-weight:bold; font-size:18px;}
  nav div {cursor:pointer;}
  nav div:hover {text-decoration:underline;}
  .section {display:none; padding:20px;}
  .active {display:block;}
  #loginBtn, #logoutBtn {padding:5px 10px; margin-top:10px;}
</style>
</head>
<body>

<nav>
  <div id="homeBtn">ğŸ  Home</div>
  <div id="searchBtn">ğŸ” Search</div>
  <div id="historyBtn">ğŸ“œ History</div>
  <div id="favBtn">â­ Favourite</div>
  <div id="profileBtn">ğŸ‘¤ Profile</div>
</nav>

<div id="homeSection" class="section active">Home content...</div>
<div id="searchSection" class="section">Search content...</div>
<div id="historySection" class="section">History content...</div>
<div id="favSection" class="section">Favorites content...</div>
<div id="profileSection" class="section">
  <div id="userInfo">Please login</div>
  <button id="loginBtn">Sign in with Google</button>
  <button id="logoutBtn" style="display:none;">Logout</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script>
  // Firebase Config
  const firebaseConfig = { /* à¦¤à§‹à¦®à¦¾à¦° config */ };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);

  // Navbar click
  const sections = ['home','search','history','fav','profile'];
  sections.forEach(name=>{
    document.getElementById(name+'Btn').addEventListener('click', ()=>{
      sections.forEach(n=>document.getElementById(n+'Section').classList.remove('active'));
      document.getElementById(name+'Section').classList.add('active');
      if(name==='profile') showProfile();
    });
  });

  const provider = new firebase.auth.GoogleAuthProvider();

  document.getElementById('loginBtn').addEventListener('click', ()=>{
    auth.signInWithPopup(provider).then(()=>showProfile()).catch(err=>alert(err));
  });

  document.getElementById('logoutBtn').addEventListener('click', ()=>{
    auth.signOut().then(()=>showProfile());
  });

  function showProfile(){
    const user = auth.currentUser;
    if(user){
      document.getElementById('userInfo').innerHTML = `<p>Name: ${user.displayName}</p><p>Email: ${user.email}</p>`;
      document.getElementById('loginBtn').style.display='none';
      document.getElementById('logoutBtn').style.display='inline-block';
    } else{
      document.getElementById('userInfo').innerHTML = 'Please login';
      document.getElementById('loginBtn').style.display='inline-block';
      document.getElementById('logoutBtn').style.display='none';
    }
  }

  auth.onAuthStateChanged(()=>showProfile());
</script>

</body>
</html>