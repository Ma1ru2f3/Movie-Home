<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MovieBox Player</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f2f2f2; }
    nav { display: flex; background: #333; color: #fff; padding: 10px; }
    nav button { margin-right: 10px; background: #555; color: #fff; border: none; padding: 8px 12px; cursor: pointer; }
    nav button:hover { background: #777; }
    #video-section { padding: 20px; text-align: center; }
    iframe { max-width: 100%; height: 480px; border: none; }
    #video-list { margin: 20px; display: flex; flex-direction: column; gap: 10px; }
    .video-item { padding: 10px; background: #fff; border-radius: 5px; cursor: pointer; }
    #admin-panel { margin-top: 20px; display: none; }
    input, select { padding: 8px; margin: 5px; }
    button.upload { padding: 8px 12px; cursor: pointer; }
  </style>
</head>
<body>

  <nav>
    <button onclick="showSection('home')">Home</button>
    <button onclick="showSection('search')">Search</button>
    <button onclick="showSection('fvrt')">Fvrt</button>
    <button onclick="showSection('profile')">Profile</button>
  </nav>

  <div id="video-section">
    <h2 id="video-title">Select a video</h2>
    <iframe id="video-player" src="" allowfullscreen></iframe>
  </div>

  <div id="home" class="section">
    <h3>All Videos</h3>
    <div id="video-list"></div>
  </div>

  <div id="search" class="section" style="display:none;">Search here</div>
  <div id="fvrt" class="section" style="display:none;">Your Favourites</div>
  <div id="profile" class="section" style="display:none;">
    <h3>Admin Login</h3>
    <input type="text" id="admin-user" placeholder="Username">
    <input type="password" id="admin-pass" placeholder="Password">
    <button onclick="loginAdmin()">Login</button>

    <div id="admin-panel">
      <h3>Upload Video</h3>
      <input type="text" id="video-link" placeholder="Video Link (Streamable)">
      <input type="text" id="video-title-input" placeholder="Video Title">
      <input type="text" id="video-cat" placeholder="Category">
      <button class="upload" onclick="addVideo()">Add Video</button>
    </div>
  </div>

  <script>
    const ADMIN_USER = "admin";
    const ADMIN_PASS = "1234";

    let videos = []; // Store all videos

    function showSection(section) {
      document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
    }

    function loginAdmin() {
      const user = document.getElementById('admin-user').value;
      const pass = document.getElementById('admin-pass').value;
      if(user === ADMIN_USER && pass === ADMIN_PASS) {
        document.getElementById('admin-panel').style.display = 'block';
        alert('Admin logged in');
      } else {
        alert('Wrong credentials');
      }
    }

    function addVideo() {
      const link = document.getElementById('video-link').value;
      const title = document.getElementById('video-title-input').value;
      const cat = document.getElementById('video-cat').value;

      if(!link || !title) {
        alert('Please enter video link and title');
        return;
      }

      const videoObj = { link, title, cat };
      videos.push(videoObj);
      renderVideos();

      // Play immediately
      playVideo(videoObj);

      document.getElementById('video-link').value = '';
      document.getElementById('video-title-input').value = '';
      document.getElementById('video-cat').value = '';
    }

    function renderVideos() {
      const list = document.getElementById('video-list');
      list.innerHTML = '';
      videos.forEach((v, index) => {
        const div = document.createElement('div');
        div.className = 'video-item';
        div.innerText = `${v.title} [${v.cat}]`;
        div.onclick = () => playVideo(v);
        list.appendChild(div);
      });
    }

    function playVideo(video) {
      document.getElementById('video-player').src = video.link;
      document.getElementById('video-title').innerText = video.title + " [" + video.cat + "]";
    }
  </script>

</body>
</html>