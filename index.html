<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Web</title>
<style>
  body{font-family:sans-serif; padding:20px;}
  .hidden{display:none;}
  .video-card{border:1px solid #ccc; padding:10px; margin:10px 0;}
</style>
</head>
<body>

<h1>🌟 Video Web 🌟</h1>

<!-- Navigation -->
<nav>
  <button onclick="showSection('home')">Home</button>
  <button onclick="showSection('search')">Search</button>
  <button onclick="showSection('profile-section')">Profile</button>
</nav>

<hr>

<!-- Sections -->
<div id="home"> <h2>Home</h2> <p>Welcome to Video Web</p> </div>

<div id="search" class="hidden">
  <h2>Search</h2>
  <input type="text" id="search-input" placeholder="Search videos" oninput="searchVideo()">
  <div id="search-results"></div>
</div>

<!-- Profile Section -->
<div id="profile-section" class="hidden">
  <h2>Profile Options</h2>

  <!-- 1. Account Create/Login -->
  <div>
    <h3>Account Create/Login</h3>
    <input type="text" id="reg-name" placeholder="Full Name"><br>
    <input type="email" id="reg-email" placeholder="Email"><br>
    <input type="password" id="reg-pass" placeholder="Password"><br>
    <input type="password" id="reg-pass2" placeholder="Confirm Password"><br>
    <button onclick="createAccount()">Create Account</button><br><br>

    <input type="email" id="login-email" placeholder="Email">
    <input type="password" id="login-pass" placeholder="Password">
    <button onclick="loginUser()">Login</button>
  </div>

  <!-- 2. Admin Access -->
  <div>
    <h3>Admin Access</h3>
    <input type="text" id="admin-id" placeholder="Admin ID">
    <input type="password" id="admin-pass" placeholder="Admin Password">
    <button onclick="loginUser()">Login Admin</button>
  </div>

  <!-- 3. Owner Info -->
  <div>
    <h3>Owner Info</h3>
    <pre>
┏━━━━━━━━━━━━━━━━━━━━━┓
┃      🌟 𝗢𝗪𝗡𝗘𝗥 𝗜𝗡𝗙𝗢 🌟      
┣━━━━━━━━━━━━━━━━━━━━━┫
┃ 👤 𝐍𝐚𝐦𝐞      : Maruf Hossainッ
┃ 🚹 𝐆𝐞𝐧𝐝𝐞𝐫    : 𝐌𝐚𝐥𝐞
┃ ❤ 𝐑𝐞𝐥𝐚𝐭𝐢𝐨𝐧 : single 🙁
┃ 🎂 𝐀𝐠𝐞       : 17+
┃ 🕌 𝐑𝐞𝐥𝐢𝐠𝐢𝐨𝐧 : 𝐈𝐬𝐥𝐚𝐦
┃ 🏫 𝐄𝐝𝐮𝐜𝐚𝐭𝐢𝐨𝐧 : SSC 25
┃ 🏡 𝐀𝐝𝐝𝐫𝐞𝐬𝐬  : Meherpur, Bangladesh
┣━━━━━━━━━━━━━━━━━━━━━┫
┃ 🎭 𝐓𝐢𝐤𝐭𝐨𝐤  : Srotoshini-স্রোত্বোসিনী
┃ 📢 𝐓𝐞𝐥𝐞𝐠𝐫𝐚𝐦 : ×
┃ 🌐 𝐅𝐚𝐜𝐞𝐛𝐨𝐨𝐤 : fb.com/profile.php?id=100066542686904
┣━━━━━━━━━━━━━━
┗━━━━━━━━━━━━━━━━━━━┛
    </pre>
  </div>
</div>

<!-- User Dashboard -->
<div id="user-dashboard" class="hidden">
  <h2>Welcome, <span id="user-name"></span></h2>
  <p>Email: <span id="user-email"></span></p>
  <button onclick="downloadVideos()">Download Videos</button>
  <button onclick="logout()">Logout</button>
</div>

<!-- Admin Dashboard -->
<div id="admin-dashboard" class="hidden">
  <h2>Admin Panel</h2>
  <button onclick="logout()">Logout</button>

  <h3>Upload Video</h3>
  <form onsubmit="addVideo(event)">
    <input type="text" id="video-title" placeholder="Video Title" required>
    <input type="text" id="video-link" placeholder="Video Link" required>
    <input type="text" id="video-category" placeholder="Category" required>
    <button type="submit">Add Video</button>
  </form>

  <h3>Video List</h3>
  <div id="admin-video-list"></div>

  <h3>User List</h3>
  <div id="user-list"></div>
</div>

<script>
const SHEET_API = "https://sheetdb.io/api/v1/3p5l2ilgzemvr";

// Navigation
function showSection(id){
  document.querySelectorAll('div[id]').forEach(div=>div.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

// Account create
function createAccount(){
  const name=document.getElementById('reg-name').value;
  const email=document.getElementById('reg-email').value;
  const pass=document.getElementById('reg-pass').value;
  const pass2=document.getElementById('reg-pass2').value;
  if(pass.length<8){alert('Password min 8 chars'); return;}
  if(pass!==pass2){alert('Password mismatch'); return;}
  localStorage.setItem(email, JSON.stringify({fullname:name,email:email,password:pass}));
  alert('Account created!');
}

// Login user/admin
function loginUser(){
  const email=document.getElementById('login-email')?.value || document.getElementById('admin-id')?.value;
  const pass=document.getElementById('login-pass')?.value || document.getElementById('admin-pass')?.value;
  
  // Admin
  if(email==="112233445500" && pass==="123450"){
    document.getElementById('admin-dashboard').classList.remove('hidden');
    fetchVideosAdmin(); fetchUsers();
    document.getElementById('profile-section').classList.add('hidden');
    return;
  }
  
  const user=JSON.parse(localStorage.getItem(email));
  if(user && user.password===pass){
    document.getElementById('user-dashboard').classList.remove('hidden');
    document.getElementById('user-name').innerText=user.fullname;
    document.getElementById('user-email').innerText=user.email;
    document.getElementById('profile-section').classList.add('hidden');
  } else alert('Invalid credentials');
}

function logout(){
  document.getElementById('user-dashboard').classList.add('hidden');
  document.getElementById('admin-dashboard').classList.add('hidden');
  document.getElementById('profile-section').classList.remove('hidden');
}

// Admin fetch videos
async function fetchVideosAdmin(){
  const res=await fetch(SHEET_API);
  const data=await res.json();
  const container=document.getElementById('admin-video-list'); container.innerHTML='';
  data.forEach(video=>{
    const card=document.createElement('div');
    card.className='video-card';
    card.innerHTML=`<h4>${video.title} [${video.category}] <span style="cursor:pointer;color:red" onclick="deleteVideo('${video.id}')">🗑 Delete</span></h4>
    <iframe src="${video.link}" frameborder="0" allowfullscreen></iframe>`;
    container.appendChild(card);
  });
}

async function addVideo(e){
  e.preventDefault();
  const title=document.getElementById('video-title').value;
  const link=document.getElementById('video-link').value;
  const category=document.getElementById('video-category').value;
  await fetch(SHEET_API,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:{title,link,category}})});
  alert('Video added'); fetchVideosAdmin();
}

function deleteVideo(id){
  alert('SheetDB delete API call needed here');
}

// User list
function fetchUsers(){
  const container=document.getElementById('user-list'); container.innerHTML='';
  for(let key in localStorage){
    if(localStorage.hasOwnProperty(key) && key!=="112233445500"){
      const user=JSON.parse(localStorage.getItem(key));
      const div=document.createElement('div');
      div.innerHTML=`${user.fullname}