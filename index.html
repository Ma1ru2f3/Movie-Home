<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MovieBox Clone</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f0f0; }
header { background:#222; color:#fff; padding:10px; display:flex; justify-content:space-between; align-items:center; }
header h1 { margin:0; font-size:1.5em; }
nav button { margin-left:5px; padding:5px 10px; cursor:pointer; }
.container { padding:20px; }
#video-list div { background:#fff; margin-bottom:10px; padding:10px; border-radius:5px; }
.hidden { display:none; }
input, select, textarea, button { margin:5px 0; padding:5px; }
</style>
</head>
<body>

<header>
  <h1>MovieBox</h1>
  <nav>
    <button onclick="showTab('home')">Home</button>
    <button onclick="showTab('search')">Search</button>
    <button onclick="showTab('profile')">Profile</button>
  </nav>
</header>

<div class="container">
  
  <!-- Home Tab -->
  <div id="home-tab">
    <h2>Videos</h2>
    <div id="video-list">Loading videos...</div>
  </div>

  <!-- Search Tab -->
  <div id="search-tab" class="hidden">
    <h2>Search Video</h2>
    <input type="text" id="search-input" placeholder="Search by title">
    <button onclick="searchVideo()">Search</button>
    <div id="search-results"></div>
  </div>

  <!-- Profile Tab -->
  <div id="profile-tab" class="hidden">
    <h2>Profile</h2>
    <!-- Account Create/Login -->
    <div id="account-section">
      <h3>Create Account</h3>
      <input type="text" id="fullname" placeholder="Full Name">
      <input type="email" id="email" placeholder="Email">
      <input type="password" id="password" placeholder="Password (min 8)">
      <input type="password" id="confirmpass" placeholder="Confirm Password">
      <button onclick="createAccount()">Create Account</button>

      <h3>Login</h3>
      <input type="email" id="login-email" placeholder="Email">
      <input type="password" id="login-password" placeholder="Password">
      <button onclick="loginUser()">Login</button>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="hidden">
      <h3>Admin Panel</h3>
      <input type="text" id="admin-id" placeholder="Admin ID">
      <input type="password" id="admin-pass" placeholder="Admin Password">
      <button onclick="loginAdmin()">Login as Admin</button>

      <div id="admin-actions" class="hidden">
        <h4>Uploaded Videos</h4>
        <div id="admin-video-list"></div>
      </div>
    </div>

    <!-- Owner Info -->
    <div id="owner-info">
      <pre>
┏━━━━━━━━━━━━━━━━━━━━━┓
┃      🌟 𝗢𝗪𝗡𝗘𝗥 𝗜𝗡𝗙𝗢 🌟      
┣━━━━━━━━━━━━━━━━━━━━━┫
┃ 👤 𝐍𝐚𝐦𝐞      : Maruf Hossainッ
┃ 🚹 𝐆𝐞𝐧𝐝𝐞𝐫    : 𝐌𝐚𝐥𝐞
┃ ❤ 𝐑𝐞𝐥𝐚𝐭𝐢𝐨𝐧 : single 🙁
┃ 🎂 𝐀𝐠𝐞       : 17+
┃ 🕌 𝐑𝐞𝐥𝐢𝐠𝐢𝐨𝐧 : 𝐈𝐬𝐥𝐚𝐦
┃ 🏫 𝐄𝐝𝐮𝐜𝐚𝐭𝐢𝐨𝐧 : SSC 25
┃ 🏡 𝐀𝐝𝐝𝐫𝐞𝐬𝐬 : Meherpur, Bangladesh
┣━━━━━━━━━━━━━━━━━━━━━┫
┃ 🎭 𝐓𝐢𝐤𝐭𝐨𝐤 : Srotoshini-স্রোত্বোসিনী
┃ 📢 𝐓𝐞𝐥𝐞𝐠𝐫𝐚𝐦 : ×
┃ 🌐 𝐅𝐚𝐜𝐞𝐛𝐨𝐨𝐤 : fb.com/profile.php?id=100066542686904
┣━━━━━━━━━━━━━━
┗━━━━━━━━━━━━━━━━━━━┛
      </pre>
    </div>

    <!-- Video Upload (for logged in user/admin) -->
    <div id="upload-section" class="hidden">
      <h3>Upload Video</h3>
      <input type="text" id="video-title" placeholder="Video Title">
      <input type="text" id="video-link" placeholder="Google Drive/YouTube Link">
      <input type="text" id="video-category" placeholder="Category">
      <button onclick="uploadVideo()">Upload</button>
    </div>

  </div>

</div>

<script>
const API_URL = 'https://sheetdb.io/api/v1/3p5l2ilgzemvr';

// Tabs
function showTab(tab) {
  document.getElementById('home-tab').classList.add('hidden');
  document.getElementById('search-tab').classList.add('hidden');
  document.getElementById('profile-tab').classList.add('hidden');
  if(tab==='home') document.getElementById('home-tab').classList.remove('hidden');
  if(tab==='search') document.getElementById('search-tab').classList.remove('hidden');
  if(tab==='profile') document.getElementById('profile-tab').classList.remove('hidden');
}

// Load Videos
function loadVideos() {
  fetch(API_URL)
    .then(res=>res.json())
    .then(data=>{
      const container = document.getElementById('video-list');
      container.innerHTML='';
      data.forEach(video=>{
        const div = document.createElement('div');
        div.innerHTML = `<strong>${video.Title}</strong> <br> 
        <a href="${video.Link}" target="_blank">Watch</a> <br>
        Category: ${video.Category} <br> Uploaded by: ${video.Upload}`;
        container.appendChild(div);
      });
    });
}
loadVideos();

// Search
function searchVideo() {
  const keyword = document.getElementById('search-input').value.toLowerCase();
  fetch(API_URL)
    .then(res=>res.json())
    .then(data=>{
      const container = document.getElementById('search-results');
      container.innerHTML='';
      data.filter(v=>v.Title.toLowerCase().includes(keyword))
          .forEach(video=>{
        const div = document.createElement('div');
        div.innerHTML = `<strong>${video.Title}</strong> <br> 
        <a href="${video.Link}" target="_blank">Watch</a> <br>
        Category: ${video.Category} <br> Uploaded by: ${video.Upload}`;
        container.appendChild(div);
      });
    });
}

// Account Management (Local storage)
function createAccount() {
  const full = document.getElementById('fullname').value;
  const email = document.getElementById('email').value;
  const pass = document.getElementById('password').value;
  const confirm = document.getElementById('confirmpass').value;

  if(pass.length<8){ alert('Password must be at least 8 characters'); return; }
  if(pass!==confirm){ alert('Password and confirm password do not match'); return; }

  let users = JSON.parse(localStorage.getItem('users')||'[]');
  if(users.find(u=>u.email===email)){ alert('Email already exists'); return; }
  users.push({full,email,pass});
  localStorage.setItem('users',JSON.stringify(users));
  alert('Account created successfully');
}

function loginUser() {
  const email = document.getElementById('login-email').value;
  const pass = document.getElementById('login-password').value;
  let users = JSON.parse(localStorage.getItem('users')||'[]');
  let user = users.find(u=>u.email===email && u.pass===pass);
  if(user){
    alert('Login successful');
    document.getElementById('upload-section').classList.remove('hidden');
  } else { alert('Invalid credentials'); }
}

// Admin Login
function loginAdmin() {
  const id = document.getElementById('admin-id').value;
  const pass = document.getElementById('admin-pass').value;
  if(id==='112233445500' && pass==='123450'){
    alert('Admin login successful');
    document.getElementById('admin-actions').classList.remove('hidden');
    loadAdminVideos();
  } else { alert('Invalid admin credentials'); }
}

// Load videos for Admin