<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Movie Home Interactive</title>
<style>
  body{font-family: Arial, sans-serif;margin:0;padding:0;background:#f0f2f5;}
  header{background:#111;color:white;padding:10px;text-align:center;}
  nav{display:flex;justify-content:center;gap:20px;margin:10px 0;}
  nav button{padding:10px 20px;cursor:pointer;}
  #searchBar{margin:10px;text-align:center;}
  #searchInput{width:50%;padding:8px;font-size:16px;}
  .section{padding:20px;}
  .hidden{display:none;}
  .videoCard{background:white;margin:10px;padding:10px;box-shadow:0 0 5px rgba(0,0,0,0.2);}
  .videoCard h4{margin:5px 0;}
  .videoCard button{margin-right:5px;}
  .profileButtons button{margin-right:10px;padding:8px 15px;}
  input, button{margin:5px 0;padding:5px;}
  pre{background:#eee;padding:10px;overflow-x:auto;}
  #videoAddSection{margin-top:10px;background:#ddd;padding:10px;}
</style>
</head>
<body>

<header>
  <h1>🎬 Movie Home</h1>
</header>

<nav>
  <button onclick="showSection('home')">Home</button>
  <button onclick="showSection('history')">History</button>
  <button onclick="showSection('profile')">Profile</button>
</nav>

<div id="searchBar">
  <input type="text" id="searchInput" placeholder="Search video..." oninput="searchVideo()">
</div>

<div id="home" class="section">
  <h2>Welcome to Movie Home</h2>
  <p id="loginPrompt">Please login and enjoy videos.</p>
  <div id="videoList"></div>
</div>

<div id="history" class="section hidden">
  <h2>History</h2>
  <ul id="historyList"></ul>
</div>

<div id="profile" class="section hidden">
  <h2>Profile</h2>
  <div class="profileButtons">
    <button onclick="toggleSection('accountSection')">Account</button>
    <button onclick="toggleSection('adminSection')">Admin Access</button>
    <button onclick="toggleSection('ownerInfoSection')">Owner Info</button>
  </div>

  <!-- Account Section -->
  <div id="accountSection" class="hidden">
    <h3>Account Create/Login</h3>
    <input type="text" id="fullName" placeholder="Full Name"><br>
    <input type="email" id="email" placeholder="Email"><br>
    <input type="password" id="password" placeholder="Password (min 8 char)"><br>
    <input type="password" id="confirmPassword" placeholder="Confirm Password"><br>
    <button onclick="createAccount()">Create Account</button>
    <p>Already have account?</p>
    <input type="email" id="loginEmail" placeholder="Email"><br>
    <input type="password" id="loginPassword" placeholder="Password"><br>
    <button onclick="loginUser()">Login</button>
    <p id="loginStatus"></p>
  </div>

  <!-- Admin Section -->
  <div id="adminSection" class="hidden">
    <h3>Admin Access</h3>
    <input type="text" id="adminId" placeholder="Admin ID"><br>
    <input type="password" id="adminPass" placeholder="Admin Password"><br>
    <button onclick="adminLogin()">Login as Admin</button>
    <p id="adminStatus"></p>
    <div id="videoAddSection" class="hidden">
      <h4>Add New Video</h4>
      <input type="text" id="videoTitle" placeholder="Video Title"><br>
      <input type="text" id="videoLink" placeholder="Video Link"><br>
      <button onclick="addVideoFromAdmin()">Add Video</button>
    </div>
  </div>

  <!-- Owner Info Section -->
  <div id="ownerInfoSection" class="hidden">
    <h3>🌟 OWNER INFO 🌟</h3>
    <pre>
┏━━━━━━━━━━━━━━━━━━━━━┓
┃ 👤 Name      : Maruf Hossainッ
┃ 🚹 Gender    : Male
┃ ❤ Relation  : single 🙁
┃ 🎂 Age      : 17+
┃ 🕌 Religion  : Islam
┃ 🏫 Education: SSC 25
┃ 🏡 Address  : Meherpur, Bangladesh
┣━━━━━━━━━━━━━━━━━━━━━┫
┃ 🎭 Tiktok  : Srotoshini-স্রোত্বোসিনী
┃ 📢 Telegram: ×
┃ 🌐 Facebook: fb.com/profile.php?id=100066542686904
┗━━━━━━━━━━━━━━━━━━━┛
    </pre>
  </div>
</div>

<script>
// Sections toggle
function showSection(section){
  ['home','history','profile'].forEach(s=>{
    document.getElementById(s).classList.add('hidden');
  });
  document.getElementById(section).classList.remove('hidden');
}

// Profile toggle sections
function toggleSection(sectionId){
  ['accountSection','adminSection','ownerInfoSection'].forEach(id=>{
    if(id===sectionId){
      document.getElementById(id).classList.toggle('hidden');
    } else {
      document.getElementById(id).classList.add('hidden');
    }
  });
}

// Video data
let videos = [];
let history = [];
let userLoggedIn = false;
let adminLoggedIn = false;

// Add video function (admin)
function addVideo(title, link){
  videos.push({title,link});
  renderVideos();
}

// Render video list
function renderVideos(){
  const list = document.getElementById('videoList');
  list.innerHTML = '';
  videos.forEach((v,i)=>{
    const div = document.createElement('div');
    div.className = 'videoCard';
    div.innerHTML = `<h4>${v.title}</h4>
                     ${userLoggedIn ? `<a href="${v.link}" target="_blank" onclick="addToHistory('${v.title}')">Watch Video</a>` : `<p>Please login to watch</p>`}
                     ${userLoggedIn ? `<a href="${v.link}" download>Download</a>` : ''}
                     ${adminLoggedIn ? `<button onclick="deleteVideo(${i})">Delete</button>` : ''}`;
    list.appendChild(div);
  });
}

// Delete video
function deleteVideo(index){
  if(confirm("Delete this video?")){
    videos.splice(index,1);
    renderVideos();
  }
}

// Search function
function searchVideo(){
  const query = document.getElementById('searchInput').value.toLowerCase();
  const filtered = videos.filter(v=>v.title.toLowerCase().includes(query));
  const list = document.getElementById('videoList');
  list.innerHTML='';
  filtered.forEach((v,i)=>{
    const div = document.createElement('div');
    div.className = 'videoCard';
    div.innerHTML = `<h4>${v.title}</h4>
                     ${userLoggedIn ? `<a href="${v.link}" target="_blank" onclick="addToHistory('${v.title}')">Watch Video</a>` : `<p>Please login to watch</p>`}
                     ${userLoggedIn ? `<a href="${v.link}" download>Download</a>` : ''}
                     ${adminLoggedIn ? `<button onclick="deleteVideo(${i})">Delete</button>` : ''}`;
    list.appendChild(div);
  });
}

// History functions
function addToHistory(title){
  history.push(title);
  renderHistory();
}

function renderHistory(){
  const list = document.getElementById('historyList');
  list.innerHTML='';
  history.forEach(v=>{
    const li = document.createElement('li');
    li.textContent = v;
    list.appendChild(li);
  });
}

// Account create/login
function createAccount(){
  const fullName = document.getElementById('fullName').value;
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  const confirmPassword = document.getElementById('confirmPassword').value;
  if(password.length<8){ alert('Password must be 8 characters'); return; }
  if(password!==confirmPassword){ alert('Passwords do not match'); return; }
  localStorage.setItem('user_'+email,JSON.stringify({fullName,email,password}));
  alert('Account created!');
}

function loginUser(){
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;
  const user = JSON.parse(localStorage.getItem('user_'+email));
  if(user && user.password===password){
    userLoggedIn=true;
    document.getElementById('loginStatus').innerText='Logged in successfully!';
    document.getElementById('loginPrompt').style.display='none';
    renderVideos();
  } else {
    document.getElementById('loginStatus').innerText='Invalid email or password!';
  }
}

// Admin login
function adminLogin(){
  const id =